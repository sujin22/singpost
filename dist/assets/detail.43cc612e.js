import"./modulepreload-polyfill.c7c6310f.js";const s=new URLSearchParams(window.location.search),c=`${s.get("fname")}.json`,u=s.get("car_id"),i=s.get("index");console.log(`fname: ${c}`);console.log(`carID : ${u}`);console.log(`visit_order : ${i}`);async function b(t){try{const e=await fetch(t);if(!e.ok)throw new Error(`JSON \uC77D\uAE30 \uC624\uB958: ${e.status} ${e.statusText}`);const o=(await e.json()).result.find(a=>a.CAR_NUM===u&&a.VISIT_ORDER==i);if(!o)throw new Error("\uC77C\uCE58\uD558\uB294 \uB808\uCF54\uB4DC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");const{VISIT_ORDER:d,Y:l,X:m,ZIP_CODE:_,ADDRESS_FULL:p,OPEN_TIME:C,CLOSE_TIME:g,ORDER_VOLUME:B,BOX_NUM:E,OPT_ARR_TIME_HM:I,EST_PROC_TIME:f,NM_COUNT:M,BOX_COUNT:T,E:w,PLACE_ID:S}=o,D=parseInt(d),y=parseFloat(l),L=parseFloat(m),O=_,h=p,R=F(parseInt(C)),v=V(parseInt(g)),$=parseFloat(B),H=parseInt(E),N=I,P=parseInt(f),x=parseInt(M),A=parseInt(T),U=parseInt(w);return{visit_order:D,latitude:y,longitude:L,zip_code:O,address:h,open_time:R,close_time:v,order_volume:$,box_num:H,arrival_time:N,dwell_time:P,nm_count:x,box_count:A,e:U,place_id:S}}catch(e){return console.error("JSON \uC77D\uAE30 \uC624\uB958:",e),Promise.reject(e)}}function k(){window.history.back()}const r=document.getElementById("btn_back");r==null||r.addEventListener("click",k);async function j(){const t=new google.maps.Map(document.getElementById("map"),{zoom:4,mapTypeControl:!1,streetViewControl:!1});try{const e=await b(`/singpost-route/data/input-data/${c}`);if(e){if(console.log(e),e.longitude&&e.latitude){const n=new google.maps.LatLng(e.latitude,e.longitude);t.setCenter(n),t.setZoom(17),new google.maps.Marker({position:n,map:t})}z(e,t)}else console.error("\uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC624\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4.")}catch(e){console.error("\uB370\uC774\uD130 \uB85C\uB529 \uC624\uB958:",e)}}function z(t,e){const n=document.getElementById("zipcode");n.innerHTML=t.zip_code;const o=document.getElementById("address");o.innerHTML=t.address,document.getElementById("arrival_time").innerHTML=t.arrival_time,document.getElementById("dwell_time").innerHTML=t.dwell_time.toString(),document.getElementById("box_num").innerHTML=t.box_num.toString(),document.getElementById("order_volume").innerHTML=t.order_volume+"kg",document.getElementById("open_time").innerHTML=t.open_time,document.getElementById("close_time").innerHTML=t.close_time}function F(t){const e=Math.floor(t/60),n=t%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function V(t){if(t>=1440)return"23:59";{const e=Math.floor(t/60),n=t%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}}window.initMap=j;
