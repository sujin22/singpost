import"./modulepreload-polyfill.c7c6310f.js";const b=new URLSearchParams(window.location.search),y=`${b.get("fname")}.json`,N=b.get("car_id"),P=["gi~FahxxRAAOAMAS?M?O?A?M@C@E?GAG?G?KB}Cr@OBu@Ng@H_@HyBXYDe@FSDWBcANa@HiB\\C?e@J[De@CW?EFA@QBI@_@N","ak_Gm`xxR?BA@A@?BA@A@A@ABCBCBC@CBE@CBE@E@A?C?A?C?A?CAA?C?CCCCCCCACCCCCCCCCECCCECCCECCCECEACACACACACACACAC?A@A?A?A?C@C?C@C@C@A@CBC@A@C@ABA@CBA@ABABADADADAD?D?D?D?@?@?@?@@@?@?@@FEFAJCDAFCZ}@Zy@h@aBLa@Ja@Ts@JWDKBIDG@CBCBAFC","oe_GoqxxRDM@Gb@qAHQj@aB\\cABIDIDKRm@L]J]Nm@DSFS","s~~FoayxRHg@ZRv@LTBhAl@p@t@Z^VZZb@t@z@X\\DD?@@@@FlB|BJLDHDFTTFFJFPLFDHDHFFBB@VJLFRHZJD@TFTF@?DBD?RBRBP?@?R@RA\\ANA`@CfBQ`@CRCTA\\AZ?D?r@Br@B\\?R@@?h@?","kr}FioxxRi@?A?SA]?s@Cs@CE?[?]@U@SBa@BgBPa@BO@]@S@SAA?Q?SCSCE?ECA?UGUGEA[KSIMGWKCAGCIGIEGEQMKGGGUUEGEIKMmB}Bg@i@w@}@[a@_@c@c@g@KKKISOUMQIQEIAQE","{{~FcayxROBE@C@GBIDIDKDIDi@bB[x@y@xBe@tA]dAIZ","ud_GoqxxRAJ?HENI\\CJQj@K^IRu@`CADYt@[|@","aj_GcdxxRSDC?A?C?AACACCCC?CAE?EZ}@Zy@h@aBLa@Ja@Ts@JWDKBIDG@CBCBAFC","oe_GoqxxRDM@Gb@qAHQj@aB\\cABIDIDKRm@L]J]Nm@DSFSHg@Je@PiATcAb@}@V[RMJKf@Ur@i@~@u@f@]FEZU\\WHIBCJKDGLKHIRSNQXc@NQ~@mA`@]`@_@x@w@RQVWj@w@Zc@FMLONONSlA_BbC{C","s{}FckzxRP[|@cBFKDI\\u@Tk@JYRo@BER_A@IDOJ[FQFKDMn@iAJWHYDQ","sq}F{~zxRHQHSN]FUFc@@_@FgABI@OFWDMBG@CDINSV[`@e@l@aA|@wA`@o@PYV]LQLOJQl@u@bAqAb@k@NO`@g@PMXYNK","g}|Fc~{xRTALAJEFEVU","wz|Fi_|xRd@YRRdAdAv@x@HLfAhA@@d@d@RRx@z@B@D@t@x@FF\\\\LLFDFFVPB@jAz@PLXP","_f|Fom{xR\\Re@?KDGDUPIHMJABMPcArA_@h@EFc@p@i@t@m@t@SVm@x@MPMPm@t@UXWZ[`@iAzAu@~@s@~@y@bAQTy@xA}@pA]f@a@h@Yj@KV","se}FqezxRGl@KdAQlB","yf}Fo~yxRK@C@E?A?CACACAKI","ih}F{~yxRLUP_@","ig}Fq`zxRYGc@G","gi}FaazxRU@MDGH","sj}Fo`zxRBBl@^VN","ih}F{~yxRLUP_@BEBGBGBI@IBK@SBSDcA","gf}FsezxRBOFOLWNW`AmAt@iA~@gB","e_}FcpzxRNNxAjAf@`@lA~@t@l@ZT@?bAx@LHp@f@VVTRXXTPTPFF^ZFFHH`@b@","}j|Fq~yxRa@f@eAnA","en|FyzyxRSBQ@OAKCIGEG{@s@SKu@o@YUa@]c@[e@W","cy|FabzxRS\\K\\ADA@ABEDIDID]HO@E?EAE?MEa@KICEAi@OCA","q`}Fg`zxR","q`}Fg`zxRB@h@ND@HB`@JLDD?D@","w||F{~yxRD?NA\\IHEHEDE@C@A@EJ]R]","cy|FabzxRSIQG[IyE_Aq@KWCi@C","se}FqezxRSABOFOLWNW`AmA","{b}FqjzxRLHRN\\Vf@`@@@ZT","u~|FegzxRf@o@LO?AJMHIT[NU","c{|FqkzxRs@k@IH","a}|FslzxRHIr@j@","c{|FqkzxROTUZIHKL?@MNg@n@","u~|FegzxR[UAAg@a@]WSO","mb}FgjzxR]f@a@h@Yj@KV","se}FqezxRSA[?aGG]AMAI?QAi@GQAQCICKCUGQIQKqAu@ECSM","wy}F}izxR{@e@P[|@cBFKDI\\u@Tk@JYRo@BER_A@IDOJ[FQFKDMn@iAJWHYDQ","sq}F{~zxRZT","wp}Fe~zxRXZNNNHXLVNNJlA|@VR","ui}FsxzxRFDHKBCBE@ABE@C@E?C?CAC?AAAAAAAGE","ai}FozzxRFD@@@@@@?@@B?B?BADABCDA@CDCBIJ","mi}FmxzxRXRTPNJRNXRTPXVvAfALJr@h@HFDB","e_}FcpzxR`@g@PUV_@n@}@bAiA|@mAb@i@V[z@gALS","as|Fy~zxR{@m@[W]W[WAA","uw|Fqb{xRQQo@i@m@g@g@a@AAEEAAw@k@OKQOUQMMgByAYMgCuA","_i}Fgp{xR`@o@PYV]LQLOJQl@u@bAqAb@k@NO`@g@PMXYNK","g}|Fc~{xRTALAJEFEVU","wz|Fi_|xRd@YRRdAdAv@x@HLfAhA@@d@d@RRx@z@B@D@t@x@FF","ol|Fyr{xRQRg@g@","in|Fms{xRs@p@cA|@","ar|F}o{xRCDq@j@g@b@E@a@ZQP","yv|Fwk{xRRLZRNJ`@Zh@\\n@b@d@ZRL\\RHFRJJHZT","_l|Fyc{xRTNv@h@BBn@d@p@`@JHBBbAl@hAx@PJZR`Ap@LHhAt@t@b@NJ\\R`@Vh@\\b@XRL","}s{FirzxRUZ_@p@u@tA_@x@c@z@","my{FoizxRt@\\TJfAf@JDBBNHp@XRHNFbCr@`@Lt@V","gj{FcbzxRl@RB@`@Nb@Pn@Th@X","uc{F{~yxRDSDGJMbAsAd@q@\\g@","u~zFsezxRz@qANSTY","s{zFsizxR@I?CACACAC?ACACA[SYMa@Qc@S_@OgAc@SK]M]S","se{F}ozxREBA@EBEBCDg@bA]l@EH","wh{FmkzxRnAj@PJTNd@RFB","qc{FmhzxRFBrCtAx@d@\\T","}{zFwczxR"];console.log(`fname: ${y}`);console.log(`carID : ${N}`);function w(){window.history.back()}const L=document.getElementById("btn_back");L==null||L.addEventListener("click",w);const G=document.getElementById("dateText");G.innerText=y.slice(0,5);window.initMap=K;async function K(){const e=new google.maps.Map(document.getElementById("map"),{zoom:6,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP}),t=new google.maps.InfoWindow,o=[];try{const n=await k(`/singpost-deploy/data/input-data/${y}`);n.length>0?U(n,e,t,o):console.error("\uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC624\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4.")}catch(n){console.error("\uB370\uC774\uD130 \uB85C\uB529 \uC624\uB958:",n)}window.addEventListener("load",()=>{})}async function k(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`JSON \uC77D\uAE30 \uC624\uB958: ${t.status} ${t.statusText}`);return(await t.json()).result.filter(n=>n.CAR_NUM===N).map(n=>{const{VISIT_ORDER:i,Y:c,X:s,ZIP_CODE:a,ADDRESS_FULL:r,OPEN_TIME:l,CLOSE_TIME:d,ORDER_VOLUME:B,BOX_NUM:C,OPT_ARR_TIME_HM:A,EST_PROC_TIME:F,NM_COUNT:R,BOX_COUNT:m,E:u,PLACE_ID:g}=n,x=parseInt(i),_=parseFloat(c),D=parseFloat(s),h=a,I=r,p=V(parseInt(l)),f=q(parseInt(d)),M=parseFloat(B),S=parseInt(C),E=A,z=parseInt(F),T=parseInt(R),J=parseInt(m),v=parseInt(u);return{visit_order:x,latitude:_,longitude:D,zip_code:h,address:I,open_time:p,close_time:f,order_volume:M,box_num:S,arrival_time:E,dwell_time:z,nm_count:T,box_count:J,e:v,place_id:g}})}catch(t){return console.error("JSON \uC77D\uAE30 \uC624\uB958:",t),[]}}function Q(e){for(const n of P){var t=google.maps.geometry.encoding.decodePath(n),o=new google.maps.Polyline({path:t,geodesic:!0,strokeColor:"#6678f5",strokeOpacity:1,strokeWeight:5});o.setMap(e)}}function U(e,t,o,n){var i=e.map(function(a){return a.longitude}),c=e.map(function(a){return a.latitude});t.fitBounds({west:Math.min.apply(null,i),east:Math.max.apply(null,i),north:Math.min.apply(null,c),south:Math.max.apply(null,c)}),Q(t),s(t);function s(a){e.forEach((r,l)=>{const d=l+1+"",B=H(e[l].arrival_time),C=Z(e,d,l,a,B,r.e),A=O(r);n.push(C),C.addListener("click",()=>{o.setContent(A),o.open(a,C)})}),W(e,a,o,n)}}function Z(e,t,o,n,i,c){const s=o===0?e.length:e.length-o,a=c==1?"blue":"black";return new google.maps.Marker({position:new google.maps.LatLng(e[o].latitude,e[o].longitude),map:n,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:i,fillOpacity:1,strokeWeight:3,strokeColor:a,scale:10},label:{text:t},zIndex:s})}function H(e){const t=parseInt(e.split(":")[0]);return t>=0&&t<=11?"#FFA7A7":t>=12&&t<=14?"#FAED7D":t>=15&&t<=17?"#B7F0B1":"#6799FF"}function V(e){const t=Math.floor(e/60),o=e%60;return`${t.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}function q(e){if(e>=1440)return"23:59";{const t=Math.floor(e/60),o=e%60;return`${t.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}}function O(e){return`
  <strong>- Zipcode: </strong>${e.zip_code}<br>
  <strong>- Customer: </strong>${e.nm_count}<br>
  <strong>- Total Item: </strong>${e.box_count}<br>
  `}function W(e,t,o,n){const i=document.getElementById("data-list");i&&(i.innerHTML="",e.forEach((c,s)=>{const a=document.createElement("li");a.className="data-item";const r=document.createElement("div");r.className="item-header";const l=document.createElement("div");l.className="arrival-time",l.innerHTML=c.arrival_time;const d=document.createElement("div");d.className="index-circle",d.style.backgroundColor=H(e[s].arrival_time);const B=e[s].e==1?"blue":"black";d.style.borderColor=B;const C=document.createElement("span");C.textContent=(s+1).toString(),d.appendChild(C);const A=document.createElement("div");A.className="header-info";const F=document.createElement("div");F.id="zipcode";const R=document.createElement("div");R.id="address",F.innerHTML=c.zip_code,R.innerHTML=c.address.slice(0,15)+"..";const m=document.createElement("div");m.id="delivery_info_item";const u=document.createElement("div");u.id="delivery_info_item";const g=document.createElement("p");g.innerHTML="0.0km";const x=document.createElement("p");x.innerHTML=c.order_volume+"kg";const _=document.createElement("img"),D=document.createElement("img");_.src="./img/ico_map_pin.png",D.src="./img/ico_map_box.png",m.appendChild(_),m.appendChild(g),m.appendChild(D),m.appendChild(x);const h=document.createElement("img");h.src="./img/ico_info.png";const I=document.createElement("p");I.innerHTML="Waiting",u.appendChild(h),u.appendChild(I),A.appendChild(F),A.appendChild(R),A.appendChild(m),A.appendChild(u);const p=document.createElement("div"),f=document.createElement("img");p.id="detail_btn",f.src="./img/ico_navi_next.png",p.appendChild(f),p.addEventListener("click",()=>{console.log("Detail Screen \uC774\uB3D9"),window.location.href="./detail.html?fname=30Oct_R2_T1_P2&car_id=CE05&index="+c.visit_order}),r.appendChild(l),r.appendChild(d),r.appendChild(A),r.appendChild(p),a.appendChild(r);const M=document.createElement("div");a.appendChild(M),i.appendChild(a),document.getElementById("bottom_btn").addEventListener("click",()=>{console.log("Current Screen \uC774\uB3D9"),window.location.href="./current_schedule.html?fname=30Oct_R2_T1_P2&car_id=CE05&index="+c.visit_order}),r.addEventListener("click",()=>{const E=n[s];E&&(n.forEach((z,T)=>{z.setZIndex(n.length-T)}),E.setZIndex(n.length+1),o.setContent(O(c)),o.open(t,E))})}))}
